<html>
<head>
	<title>Walidacja formularza RegExp</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<script type="text/javascript" src="../yFormValidator.js"></script>
	<script type="text/javascript">
	window.onload = function()
	{
		var data = {
			form : 'info-form',
			error : function(rule)
			{
				this.style.borderColor = "red";
				//alert('[globalna funkcja] ' + this.id + ' nie spełnia ' + rule);
			},
			success : function(rule)
			{
				this.style.borderColor = "green";
				//alert('[globalna funkcja]' + this + rule + 'ok');
			},
			items : {
				'name' : 
					{
						rule : 'not empty',
						required : true
					},
				'date' :
					{
						rule : 'date',
						required : false,
						error : function(rule) 
						{ 
							this.value = this.value.replace(/[\.\-\ ]/g, "/"); 
							if (rule.test(this.value))
							{
								this.style.borderColor = "green";
								return true;
							}
							this.style.borderColor = "red";
							return false;
						}
					},
				'email' :
					{
						rule : 'email',
						required : true
					},
				'site' :
					{
						rule : (/^http\:\/\//),
						required : false
					}
			}
		};

		yFormValidator(data);
	}
	</script>
</head>
<body>
	<form action="#" id="info-form">
		Imię i nazwisko: <input type="text" name="name" id="name"/><br />
		Data urodzenia: <input type="text" name="date" id="date"/><br />
		E-mail: <input type="text" name="email" id="email"/><br />
		WWWW : <input type="text" name="site" id="site"/><br />
		<input type="submit" value="gotowe" />
	</form>
</body>
</html>
